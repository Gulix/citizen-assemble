<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta charset="utf-8">
    <title>Citizen Assemble ! Pulp City Team Builder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/icons.css" />
    <link href="https://fonts.googleapis.com/css?family=Bangers|Oswald" rel="stylesheet">
  </head>
<body>
  <div class="page-header">
    <div class="global-container">Citizen Assemble !</div>
  </div>

  <div class="menu-bar">
    <div class="global-container">
      <div class="menu-box">Home</div>
      <div class="menu-box">FAQ</div>
    </div>
  </div>

  <!-- ko if: isAffiliationDisplayed -->
  <div class="affiliation-selection global-container">
    <h2>Enter a Code</h2>
    <div class="enter-code">
      <input type="text" class="team-code" data-bind="value: teamCodeInput"></input>
      <div class="button" data-bind="click: enterTeamCode">Enter Code</div>
    </div>
    <h2>Choose your faction / alignment</h2>
    <div class="step-back" data-bind="click: goBack, visible: goBackIsVisible"></div>
    <div class="affiliation-boxes" data-bind="foreach: affiliations">
      <affiliation-box params="affiliation: $data"></affiliation-box>
    </div>
  </div>
  <!-- /ko -->

  <!-- ko if: myTeamDisplayed -->
  <div class="global-container">
    <div class="step-back" data-bind="click: goBack"></div>
  </div>
  <div class="supreme-roster global-container" data-bind="with: team">
    <h2>My Team</h2>
    <div class="my-roster">
      <div class="roster-general" data-bind="event: { mouseover: showActions, mouseout: hideActions }">
        <div class="team-affiliation" data-bind="attr: { 'style': affiliationStyle }">
          <img data-bind="attr: { 'src': affiliationImageSrc }" />
          <div class="roster-resume">
            <div class="roster-resume-detail"><span class="label">Levels :</span> <span data-bind="text: totalLevels"></span></div>
            <div class="roster-resume-detail"><span class="label">AP+ :</span> <span data-bind="text: totalActionPoints"></span></div>
            <div class="roster-resume-detail"><span class="label">Mi+ :</span> <span data-bind="text: totalMinionsPoints"></span></div>
          </div>
          <div class="roster-mask" data-bind="visible: actionsVisible">
            <div class="action-button" data-bind="click: clearRoster">Clear</div>
            <div class="action-button" data-bind="click: showCode">Get Code</div>
          </div>
        </div>
      </div>
      <div class="roster-cards" data-bind="visible: isCardsVisible">
        <div class="card-title"><span class="icon-cards"></span><span data-bind="text: nbLeaderCards"></span> Leader Cards</div>
        <div class="card-action" data-bind="click: showLeaderCardSelection"><span class="icon-add-card card-action-icon"></span>Select one ...</div>
        <div class="card-honorary-member" data-bind="visible: isHonoraryMemberSelected"><span class="icon-honorary-member"></span>Honorary Member</div>
        <div class="card-honorary-member-name" data-bind="visible: isHonoraryMemberSelected, text: honoraryMemberName"></div>
      </div>
      <!-- ko foreach: rosterSupremes -->
      <supreme-box params="supreme: $data"></supreme-box>
      <!-- /ko -->
    </div>
  </div>
  <!-- /ko -->

  <!-- ko if: recruitmentDisplayed -->
  <div class="menu-bar">
  </div>

  <div class="supreme-selection global-container">
    <h2>Recruit your Supremes</h2>
    <div data-bind="with: supremeFilter">
      <select data-bind="options: origins, optionsText: 'origin_label', value: selectedOrigin,"></select>
      <select data-bind="options: roles, optionsText: 'role_label', value: selectedRole,"></select>
    </div>
    <div class="recruitment-list" data-bind="foreach: recruitableSupremes">
      <supreme-box params="supreme: $data"></supreme-box>
    </div>
  </div>
  <!-- /ko -->

  <!-- ko if: myTeamDisplayed -->
  <!-- ko with: team -->
  <div class="modal-box" data-bind="visible: isTeamCodeVisible">
    <div class="modal-close" data-bind="click: hideCode"></div>
    <div class="modal-content">
      <div class="modal-label">Unique Team Code</div>
      <div>
        <input type="text" readonly class="team-code" data-bind="value: teamCode"></input>
      </div>
    </div>
  </div>
  <div class="modal-box" data-bind="visible: isLeaderCardSelectionVisible">
    <div class="modal-close" data-bind="click: hideLeaderCardSelection"></div>
    <div class="modal-content">
      <div class="modal-label">Select a Leader Card</div>
      <div class="leader-cards-list">
        <!-- ko if: !isHonoraryMemberSelected() -->
        <!-- ko foreach: leaderCardsProviders -->
        <div class="leader-card" data-bind="click: function() { $parent.chooseHonoraryMember($data) }">
          <div class="leader-card-title">Honorary Member</div>
          <div class="leader-card-text">One Supreme in your Team may be counted as the same Faction as the Leader.</div>
          <div class="leader-card-legend">Provided by <span data-bind="text: jsonData.name"></span></div>
        </div>
        <!-- /ko -->
        <!-- /ko -->
        <div class="leader-card leader-card-disabled">
          <div class="leader-card-title">Recruitment Blitz</div>
          <div class="leader-card-text">Your Team has an additional 3 Levels of Minions Cards.</div>
        </div>
      </div>
    </div>
  </div>
  <!-- ko if: isHonoraryMembersSelectable -->
  <div class="modal-box">
    <div class="modal-close" data-bind="click: endHonoraryMemberSelection"></div>
    <div class="modal-content modal-content-large">
      <div class="modal-label">Select your Honorary Member</div>
      <div data-bind="with: $parent.supremeFilter">
        <select data-bind="options: origins, optionsText: 'origin_label', value: selectedOrigin,"></select>
        <select data-bind="options: roles, optionsText: 'role_label', value: selectedRole,"></select>
      </div>
      <div class="recruitment-list scrollable-list" data-bind="foreach: possibleHonoraryMembers">
        <supreme-box params="supreme: $data"></supreme-box>
      </div>
      </div>
    </div>
  </div>
  <!-- /ko -->
  <!-- /ko -->
  <!-- /ko -->

  <script src="js/vendor/require.min.js" data-main="js/main.js"></script>
</body>
</html>
